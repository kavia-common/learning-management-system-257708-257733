{"is_source_file": true, "format": "JavaScript", "description": "This file contains functions to manage user progress and enrollment in courses within a learning management system, interacting with a Supabase backend.", "external_files": ["../supabaseClient"], "external_methods": ["supabase.from"], "published": ["enrollUser", "startCourse", "updateProgress", "fetchUserProgress", "fetchAggregateStats"], "classes": [], "methods": [{"name": "enrollUser({ userId, learningPathId })", "description": "Enrolls a user in a learning path, using an upsert to create or update the enrollment record.", "scope": "", "scopeKind": ""}, {"name": "startCourse({ userId, courseId })", "description": "Starts a course for a user, creating or updating their progress record with a start timestamp.", "scope": "", "scopeKind": ""}, {"name": "updateProgress({ userId, courseId, percent })", "description": "Updates the user's progress percentage for a course, setting a completion timestamp if 100% is reached.", "scope": "", "scopeKind": ""}, {"name": "fetchUserProgress(userId)", "description": "Retrieves all course progress records for a specific user.", "scope": "", "scopeKind": ""}, {"name": "fetchAggregateStats()", "description": "Fetches aggregate statistics for admin purposes, including total users, total enrollments, and average completion percentage.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from(\"enrollments\").upsert", "supabase.from(\"course_progress\").select", "supabase.from(\"course_progress\").update", "supabase.from(\"course_progress\").insert", "supabase.from(\"course_progress\").upsert", "supabase.from(\"profiles\").select", "supabase.from(\"enrollments\").select", "supabase.from(\"course_progress\").select"], "search-terms": ["course_progress", "progressApi", "enrollUser", "startCourse", "updateProgress", "fetchUserProgress", "fetchAggregateStats", "supabaseClient"], "state": 2, "file_id": 21, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "completed_at", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^    completed_at: clamped >= 100 ? new Date().toISOString() : null,$/", "language": "JavaScript", "kind": "property", "scope": "updateProgress.payload", "scopeKind": "class"}, {"_type": "tag", "name": "enrollUser", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^export async function enrollUser({ userId, learningPathId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ userId, learningPathId })"}, {"_type": "tag", "name": "fetchAggregateStats", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^export async function fetchAggregateStats() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "fetchUserProgress", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^export async function fetchUserProgress(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^  const payload = {$/", "language": "JavaScript", "kind": "class", "scope": "updateProgress", "scopeKind": "class"}, {"_type": "tag", "name": "percent_complete", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^    percent_complete: clamped,$/", "language": "JavaScript", "kind": "property", "scope": "updateProgress.payload", "scopeKind": "class"}, {"_type": "tag", "name": "startCourse", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^export async function startCourse({ userId, courseId }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ userId, courseId })"}, {"_type": "tag", "name": "updateProgress", "path": "/home/kavia/workspace/code-generation/learning-management-system-257708-257733/lms_frontend/src/progress/progressApi.js", "pattern": "/^export async function updateProgress({ userId, courseId, percent }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ userId, courseId, percent })"}], "hash": "e17e19474c4301d4632b4034dabcbcd9", "format-version": 4, "code-base-name": "lms_frontend", "filename": "lms_frontend/src/progress/progressApi.js", "fields": [{"name": "completed_at: clamped >= 100 ? new Date().toISOString() : null,", "scope": "updateProgress.payload", "scopeKind": "class", "description": "unavailable"}, {"name": "percent_complete: clamped,", "scope": "updateProgress.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}